;/*FB_PKG_DELIM*/

__d("PolarisHashtagLogger",["PolarisConfig","PolarisDeviceOrMachineId","PolarisLogger","PolarisPigeonLogger","PolarisUA"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.clickPoint,c=a.containerModule,e=a.entityId,f=a.eventName,g=a.followStatus;a=a.position;a={position:a,click_point:b,containermodule:c,device_model:d("PolarisUA").getBrowserString(),device_os:"Web",deviceid:d("PolarisDeviceOrMachineId").getDeviceOrMachineId(),entity_id:e,entity_type:"hashtag",follow_status:g,hashtag_id:e,primary_locale:d("PolarisConfig").getLocale()};d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent(f,d("PolarisLogger").getExtra(a),{module:c}))}g.logHashtagAction=a}),98);
__d("PolarisTagActions",["PolarisHashtagLogger","PolarisIGWebStorage","PolarisPostModel","PolarisSharedAPI","PolarisUserModel","nullthrows","polarisGetHashtagMediaFromNativeHashtag","polarisNormalizeMediaDicts"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return{type:"CONTENT_ADVISORY_ACKNOWLEDGED",tagName:a,userId:b}}function b(a){return function(b,e){var f=c("nullthrows")(a.hashtag);return b({type:"TAG_PAGE_LOADED",tagData:f,contentAdvisoryIsAcknowledged:d("PolarisIGWebStorage").isContentAdvisoryAcknowledged(c("nullthrows")(f.name),(b=e())==null?void 0:(f=b.users)==null?void 0:f.viewerId)})}}function e(a){return function(b,e){var f=a.recent,g=a.top,h=d("polarisNormalizeMediaDicts").normalizeMediaDicts(d("polarisGetHashtagMediaFromNativeHashtag").getMediaFromSections(g.sections)).entities,i=g!=null&&g.sections!=null&&g.sections.length>0?h.mediaDicts:{},j=d("polarisNormalizeMediaDicts").normalizeMediaDicts(d("polarisGetHashtagMediaFromNativeHashtag").getMediaFromSections(f.sections)).entities,k=f!=null&&f.sections!=null&&f.sections.length>0?j.mediaDicts:{};g=[].concat(Object.keys(i).map(function(a){return c("PolarisPostModel").fromNativeResponse(i[a]).toReduxStore()}),Object.keys(k).map(function(a){return c("PolarisPostModel").fromNativeResponse(k[a]).toReduxStore()}));f=[].concat(Object.keys(h.userDicts||{}).map(function(a){return c("PolarisUserModel").fromNativeResponse(h.userDicts[a]).toReduxStore()}),Object.keys(j.userDicts||{}).map(function(a){return c("PolarisUserModel").fromNativeResponse(j.userDicts[a]).toReduxStore()}));return b({type:"TAG_PAGE_LOADED_V2",tagData:a,posts:g,users:f,contentAdvisoryIsAcknowledged:d("PolarisIGWebStorage").isContentAdvisoryAcknowledged(c("nullthrows")(a.name),(b=e())==null?void 0:(g=b.users)==null?void 0:g.viewerId)})}}function f(a){return function(b,c){return b({type:"TAG_PAGE_UNLOADED",tagName:a})}}function h(a,b){return function(c,e){d("PolarisHashtagLogger").logHashtagAction(babelHelpers["extends"]({},b,{eventName:"follow_button_tapped",followStatus:"following"}));c({type:"FOLLOW_HASHTAG",tagName:a});return d("PolarisSharedAPI").followHashtag(a).then(function(b){c({type:"FOLLOW_HASHTAG_SUCCEEDED",tagName:a})},function(e){d("PolarisHashtagLogger").logHashtagAction(babelHelpers["extends"]({},b,{eventName:"follow_button_tap_failure",followStatus:"following"})),c({type:"FOLLOW_HASHTAG_FAILED",tagName:a})})}}function i(a,b){return function(c,e){d("PolarisHashtagLogger").logHashtagAction(babelHelpers["extends"]({},b,{eventName:"follow_button_tapped",followStatus:"not_following"}));c({type:"UNFOLLOW_HASHTAG",tagName:a});return d("PolarisSharedAPI").unfollowHashtag(a).then(function(b){c({type:"UNFOLLOW_HASHTAG_SUCCEEDED",tagName:a})},function(e){d("PolarisHashtagLogger").logHashtagAction(babelHelpers["extends"]({},b,{eventName:"follow_button_tap_failure",followStatus:"not_following"})),c({type:"UNFOLLOW_HASHTAG_FAILED",tagName:a})})}}g.acknowledgeContentAdvisory=a;g.loadTagPage=b;g.loadTagPageV2=e;g.unloadTagPage=f;g.followHashtag=h;g.unfollowHashtag=i}),98);
__d("PolarisLocationActions",["PolarisLocationPostsTypes","PolarisUserModel","nullthrows","polarisGetLocationMediaFromNativeLocation","polarisNormalizeMediaDicts"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{type:"LOCATION_PAGE_LOADED",location:c("nullthrows")(a.location)}}function b(a){return function(b){var e,f;e=(e=(e=a[d("PolarisLocationPostsTypes").LOCATION_TAB_TYPES.RECENT])==null?void 0:e.sections)!=null?e:[];f=(f=(f=a[d("PolarisLocationPostsTypes").LOCATION_TAB_TYPES.RANKED])==null?void 0:f.sections)!=null?f:[];f=[].concat(f,e);e=d("polarisNormalizeMediaDicts").normalizeMediaDicts(d("polarisGetLocationMediaFromNativeLocation").getMediaFromLocationSections(f)).entities;var g=e.mediaDicts,h=e.userDicts;f=Object.keys(h).map(function(a){return c("PolarisUserModel").fromNativeResponse(h[a]).toReduxStore()});b({type:"LOCATION_PAGE_LOADED_V2",locationData:a,media:Object.keys(g).map(function(a){return g[a]}),users:f})}}g.loadLocationPage=a;g.loadLocationPageV2=b}),98);
__d("PolarisExploreActions",["PolarisLocationActions","PolarisTagActions"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return d("PolarisTagActions").loadTagPageV2(a.data)};b=function(a){return d("PolarisTagActions").loadTagPage(a.data)};c=function(a){return d("PolarisLocationActions").loadLocationPageV2(a.native_location_data)};g.setupExploreTagsLoggedInPage=a;g.setupExploreTagsLoggedOutPage=b;g.setupExploreLocationsPage=c}),98);